{"ast":null,"code":"var _jsxFileName = \"/Users/john/Downloads/library2/src/components/Profile/ProfileCard.js\";\nimport React from 'react';\nimport Avatar from 'react-avatar';\nimport Card from 'react-bootstrap/Card';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport './Profile.css';\nimport * as login from '../Auth/Login.js';\nimport firebase from '../../firebase.js';\nconst db = firebase.firestore();\nexport default class ProfileCard extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      fullnamed: this.getName2(),\n      name: \"\",\n      image: \"\"\n    };\n  }\n\n  componentDidMount() {\n    db.collection(\"Users\").doc(login.getUID()).collection(\"Photos\").get().then(querySnapshot => {\n      var data = querySnapshot.docs.map(doc => doc.data());\n      this.setState({\n        image: data[0].ava\n      });\n    });\n    this.setState({\n      fullnamed: this.getName2(),\n      name: login.getUser()\n    });\n  }\n\n  getName2() {\n    const db = firebase.firestore();\n    var user = firebase.auth().currentUser;\n    var name = '';\n    db.collection(\"Users\").get().then(querySnapshot => {\n      const data = querySnapshot.docs.map(doc => doc.data());\n      console.log(data);\n\n      if (user !== null) {\n        console.log(data + \" \" + user.displayName + \" \" + data[1].name);\n\n        for (var i in data) {\n          if (user.displayName === data[i].name) {\n            name = data[i].fullname;\n            this.setState({\n              fullnamed: name,\n              image: data[i].avatar\n            });\n            return name;\n          }\n        }\n      }\n    });\n    return name;\n  }\n\n  render() {\n    console.log(\"BBBB\" + this.state.image);\n\n    if (this.state.fullnamed === \"\") {\n      console.log(\"checking\");\n      var nae = this.getName2();\n    }\n\n    if (this.state.image === \"\" || this.state.image === undefined) {\n      return React.createElement(Card, {\n        className: \"cardo\",\n        style: {\n          width: '30rem',\n          height: '30rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: \"ava\",\n        name: login.getUser(),\n        round: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        style: {\n          fontWeight: 'bold',\n          marginTop: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, login.getUser()), React.createElement(Card.Subtitle, {\n        style: {\n          marginTop: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.state.fullnamed), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(ListGroup, {\n        variant: \"flush\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(ListGroup.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, login.getEmail()), React.createElement(ListGroup.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, login.getCreated())), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(Card, {\n        className: \"cardo\",\n        style: {\n          width: '30rem',\n          height: '30rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: \"ava\",\n        src: this.state.image,\n        round: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        style: {\n          fontWeight: 'bold',\n          marginTop: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, login.getUser()), React.createElement(Card.Subtitle, {\n        style: {\n          marginTop: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, this.state.fullnamed), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(ListGroup, {\n        variant: \"flush\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(ListGroup.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, login.getEmail()), React.createElement(ListGroup.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, login.getCreated())), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/john/Downloads/library2/src/components/Profile/ProfileCard.js"],"names":["React","Avatar","Card","ListGroup","login","firebase","db","firestore","ProfileCard","Component","constructor","state","fullnamed","getName2","name","image","componentDidMount","collection","doc","getUID","get","then","querySnapshot","data","docs","map","setState","ava","getUser","user","auth","currentUser","console","log","displayName","i","fullname","avatar","render","nae","undefined","width","height","fontWeight","marginTop","getEmail","getCreated"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Avatar from 'react-avatar';\nimport Card from 'react-bootstrap/Card';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport './Profile.css';\nimport * as login from '../Auth/Login.js';\nimport firebase from '../../firebase.js';\n\nconst db = firebase.firestore();\n\n\nexport default class ProfileCard extends React.Component{\n  constructor() {\n    super();\n    this.state = {\n      fullnamed: this.getName2(),\n      name: \"\",\n      image: \"\",\n    };\n  }\n\ncomponentDidMount(){\n  db.collection(\"Users\")\n  .doc(login.getUID()).collection(\"Photos\")\n  .get()\n  .then(querySnapshot => {\n  var data = querySnapshot.docs.map(doc => doc.data());\n  this.setState({\n    image: data[0].ava\n  })\n });\n\n  this.setState({\n    fullnamed: this.getName2(),\n    name: login.getUser()\n  })\n}\n\n\n  getName2(){\n   const db = firebase.firestore();\n   var user = firebase.auth().currentUser;\n   var name = '';\n   db.collection(\"Users\")\n   .get()\n   .then(querySnapshot => {\n  const data = querySnapshot.docs.map(doc => doc.data());\n  console.log(data )\n  if(user !== null){\n    console.log(data + \" \" + user.displayName + \" \" + data[1].name)\n    for(var i in data){\n  if(user.displayName === data[i].name){\n    name = data[i].fullname;\n    this.setState({\n      fullnamed: name,\n      image: data[i].avatar\n    });\n    return name;\n  }\n }\n }\n  });\n  return name;\n }\n\n\n    render(){\n      console.log(\"BBBB\" + this.state.image)\n\n      if(this.state.fullnamed === \"\"){\n        console.log(\"checking\")\n        var nae = this.getName2();\n      }\n      if(this.state.image === \"\" || this.state.image === undefined){\n        return(\n             <Card className = \"cardo\" style={{ width: '30rem', height: '30rem'}}>\n                <Avatar className = \"ava\" name={login.getUser()} round={true}/>\n                    <Card.Body>\n                    <Card.Title style ={{fontWeight: 'bold' , marginTop: \"15px\"}}>{login.getUser()}</Card.Title>\n                    <Card.Subtitle style ={{marginTop: \"15px\"}}>{this.state.fullnamed}</Card.Subtitle>\n                    <br></br>\n                    <ListGroup variant=\"flush\">\n                    <ListGroup.Item>{login.getEmail()}</ListGroup.Item>\n                    <ListGroup.Item>{login.getCreated()}</ListGroup.Item>\n                    </ListGroup>\n                    <br></br>\n                    </Card.Body>\n            </Card>\n        )\n      }else{\n        return(\n             <Card className = \"cardo\" style={{ width: '30rem', height: '30rem'}}>\n                  <Avatar className = \"ava\" src={this.state.image} round={true}/>\n                    <Card.Body>\n                    <Card.Title style ={{fontWeight: 'bold' , marginTop: \"15px\"}}>{login.getUser()}</Card.Title>\n                    <Card.Subtitle style ={{marginTop: \"15px\"}}>{this.state.fullnamed}</Card.Subtitle>\n                    <br></br>\n                    <ListGroup variant=\"flush\">\n                    <ListGroup.Item>{login.getEmail()}</ListGroup.Item>\n                    <ListGroup.Item>{login.getCreated()}</ListGroup.Item>\n                    </ListGroup>\n                    <br></br>\n                    </Card.Body>\n            </Card>\n          );\n      }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}