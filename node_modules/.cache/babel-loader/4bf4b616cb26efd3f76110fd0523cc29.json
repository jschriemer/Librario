{"ast":null,"code":"import _classCallCheck from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Avatar from'react-avatar';import Dropdown from'react-bootstrap/Dropdown';import{BrowserRouter as Router,Route,Link,Switch,useHistory,withRouter}from'react-router-dom';import*as login from'../Auth/Login.js';import*as ps from'../Profile/ProfileSettings.js';import firebase,{auth,provider}from'../../firebase.js';import'../../stylesheets/Header.css';import'bootstrap/dist/css/bootstrap.min.css';import history from'../../history';var green='teal';var gold='#FFC300';var black='black';var purple='#DEB9FF';var db=firebase.firestore();var Header=/*#__PURE__*/function(_React$Component){_inherits(Header,_React$Component);function Header(props){var _this;_classCallCheck(this,Header);_this=_possibleConstructorReturn(this,_getPrototypeOf(Header).call(this,props));_this.loggedOutUser=function(e){var tempname=login.getUser();firebase.auth().signOut().then(function(){alert(\"Goodbye \"+tempname+\"!\");history.push('/');window.location.reload();}).catch(function(error){alert(error.message);});};_this.state={color:black,user:false,page:'front',image:\"\"};_this.changeColor=_this.changeColor.bind(_assertThisInitialized(_this));return _this;}_createClass(Header,[{key:\"usercheck\",value:function usercheck(){if(!ps.isloggedOut()){if(this.state.user===false)this.setState({user:true});return true;}return false;}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;db.collection(\"Users\").doc(login.getUID()).collection(\"Photos\").get().then(function(querySnapshot){var data=querySnapshot.docs.map(function(doc){return doc.data();});if(data[0]!==undefined){_this2.setState({image:data[0].ava});}});console.log(\"componentDidMount\");auth.onAuthStateChanged(function(user){if(user){_this2.setState({user:true});}});}},{key:\"changeColor\",value:function changeColor(){var newColor=this.state.color==green?gold:green;this.setState({color:newColor});}},{key:\"changePage\",value:function changePage(){var length=window.location.href.length;var current=window.location.href.slice(21,length);console.log(current);if(current==='/'){this.setState({page:\"front\",color:black});}else{this.setState({page:'back',color:purple});}}},{key:\"avatargen\",value:function avatargen(){return React.createElement(Avatar,{size:\"35\",name:login.getUser(),round:true});}},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,match=_this$props.match,location=_this$props.location,history=_this$props.history;//const headerColor = location.pathname === '/' ? { background: 'white'} : { background: 'blue' }\n//console.log(\"HERE is is:::::::::::: \" + location.pathname)\nif(this.state.user&&this.usercheck()){console.log(\"header image state: \"+this.state.image);if(this.state.image===\"\"||this.state.image===undefined){return React.createElement(\"nav\",{className:\"navbar navbar-expand\",style:{background:black}},React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),React.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\"},React.createElement(\"ul\",{className:\"navbar-nav\"},React.createElement(\"li\",{className:\"nav-item active\"},React.createElement(Link,{to:\"/\",onClick:function onClick(){return _this3.changePage();},className:\"nav-link\",href:\"#\"},\" \",React.createElement(\"img\",{src:require('../../images/book.png'),style:{width:'30px'}}),\" \",React.createElement(\"span\",{className:\"sr-only\"},\"(current)\"))),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Link,{to:\"/search\",onClick:function onClick(){return _this3.changePage();},className:\"nav-link\",href:\"/search\"},\"Search\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Dropdown,{drop:\"left\",style:{float:'right',position:'absolute',right:\"30px\",color:\"white\"}},React.createElement(Dropdown.Toggle,{style:{color:\"black\",backgroundColor:\"black\",border:\"none\"}},this.avatargen()),React.createElement(Dropdown.Menu,null,React.createElement(Dropdown.Item,null,React.createElement(Link,{style:{color:\"black\"},to:\"/profile\",className:\"nav-link\",href:\"/profile\"},\"Profile\"),\" \"),React.createElement(Dropdown.Divider,null),React.createElement(Dropdown.Item,null,React.createElement(\"button\",{className:\"btn btn-danger\",style:{marginTop:\"0px\"},onClick:this.loggedOutUser.bind(this),history:this.props.history},\"Sign Out\"))))),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Link,{to:\"/friendslist\",onClick:function onClick(){return _this3.changePage();},className:\"nav-link\",href:\"/friends\"},\"Friends\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Link,{to:\"/library\",onClick:function onClick(){return _this3.changePage();},className:\"nav-link\",href:\"/library\"},\"Library\")))));}else{return React.createElement(\"nav\",{className:\"navbar navbar-expand\",style:{background:'black'}},React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),React.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\"},React.createElement(\"ul\",{className:\"navbar-nav\"},React.createElement(\"li\",{className:\"nav-item active\"},React.createElement(Link,{to:\"/\",className:\"nav-link\",href:\"#\"},\" \",React.createElement(\"img\",{src:require('../../images/book.png'),style:{width:'30px'}}),\" \",React.createElement(\"span\",{className:\"sr-only\"},\"(current)\"))),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Link,{to:\"/search\",className:\"nav-link\",href:\"/search\"},\"Search\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Dropdown,{drop:\"left\",style:{float:'right',position:'absolute',right:\"30px\",color:\"white\"}},React.createElement(Dropdown.Toggle,{style:{color:\"black\",backgroundColor:\"black\",border:\"none\"}},React.createElement(Avatar,{size:\"35\",src:this.state.image,round:true})),React.createElement(Dropdown.Menu,null,React.createElement(Dropdown.Item,null,React.createElement(Link,{style:{color:\"black\"},to:\"/profile\",className:\"nav-link\",href:\"/profile\"},\"Profile\"),\" \"),React.createElement(Dropdown.Divider,null),React.createElement(Dropdown.Item,null,React.createElement(\"button\",{className:\"btn btn-danger\",style:{marginTop:\"0px\"},onClick:this.loggedOutUser.bind(this),history:this.props.history},\"Sign Out\"))))),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Link,{to:\"/friendslist\",className:\"nav-link\",href:\"/friends\"},\"Friends\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Link,{to:\"/library\",className:\"nav-link\",href:\"/library\"},\"Library\")))));}}return React.createElement(\"nav\",{className:\"navbar navbar-expand-lg\",style:{background:'black'}/*style ={{background: this.state.color}}*/},React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),React.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\"},React.createElement(\"ul\",{className:\"navbar-nav\"},React.createElement(\"li\",{className:\"nav-item active\"},React.createElement(Link,{to:\"/\",className:\"nav-link\",href:\"#\"},\" \",React.createElement(\"img\",{src:require('../../images/book.png'),style:{width:'30px'}}),\" \",React.createElement(\"span\",{className:\"sr-only\"},\"(current)\"))),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(Link,{to:\"/login\",className:\"nav-link\",href:\"/login\"},\"Login\")))));}}]);return Header;}(React.Component);export{Header as default};","map":{"version":3,"sources":["/Users/john/Downloads/library2/lib/src/components/frontpage/Header.js"],"names":["React","Avatar","Dropdown","BrowserRouter","Router","Route","Link","Switch","useHistory","withRouter","login","ps","firebase","auth","provider","history","green","gold","black","purple","db","firestore","Header","props","loggedOutUser","e","tempname","getUser","signOut","then","alert","push","window","location","reload","catch","error","message","state","color","user","page","image","changeColor","bind","isloggedOut","setState","collection","doc","getUID","get","querySnapshot","data","docs","map","undefined","ava","console","log","onAuthStateChanged","newColor","length","href","current","slice","match","usercheck","background","changePage","require","width","float","position","right","backgroundColor","border","avatargen","marginTop","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Avatar from 'react-avatar';\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport { BrowserRouter as Router, Route, Link, Switch, useHistory, withRouter } from 'react-router-dom';\nimport * as login from '../Auth/Login.js';\nimport * as ps from '../Profile/ProfileSettings.js';\nimport firebase, {auth, provider} from '../../firebase.js'\nimport '../../stylesheets/Header.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport history from '../../history';\nimport PropTypes from \"prop-types\";\n\nconst green = 'teal';\nconst gold = '#FFC300';\nconst black = 'black';\nconst purple = '#DEB9FF';\nconst db = firebase.firestore();\n\nexport default class Header extends React.Component{\n  static propTypes = {\n    match: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired\n  }\n  constructor(props){\n    super(props);\n    this.state = {\n      color: black,\n      user: false,\n      page: 'front',\n      image: \"\",\n    };\n    this.changeColor = this.changeColor.bind(this);\n\n  }\n\n  usercheck(){\n    if(!ps.isloggedOut()){\n      if(this.state.user === false)\n        this.setState({user: true});\n      return true\n    }\n    return false\n  }\n\n  componentDidMount(){\n    db.collection(\"Users\")\n    .doc(login.getUID()).collection(\"Photos\")\n    .get()\n    .then(querySnapshot => {\n    var data = querySnapshot.docs.map(doc => doc.data());\n    if(data[0] !==undefined){\n    this.setState({\n      image: data[0].ava\n    })\n  }\n   });\n        console.log(\"componentDidMount\")\n        auth.onAuthStateChanged(user => {\n        if(user){\n            this.setState({user: true});\n            }\n        });\n    }\n\n  changeColor(){\n    const newColor = this.state.color == green ? gold : green;\n    this.setState({color: newColor});\n  }\n\n  changePage(){\n    const length = window.location.href.length;\n    const current = window.location.href.slice(21, length);\n    console.log(current)\n    if(current === '/'){\n      this.setState({\n        page: \"front\",\n        color: black\n      })\n    }else{\n      this.setState({\n        page: 'back',\n        color: purple\n      })\n    }\n  }\n\n  loggedOutUser = (e) => {\n  var tempname = login.getUser();\n  firebase\n  .auth()\n  .signOut()\n  .then(() => {\n    alert(\"Goodbye \" + tempname + \"!\");\n    history.push('/');\n    window.location.reload();\n  })\n  .catch(function(error) {\n    alert(error.message);\n  });\n}\n\n  avatargen(){\n    return(  <Avatar size=\"35\" name={login.getUser()} round={true}/>);\n  }\n\n    render(){\n    const { match, location, history } = this.props\n\n    //const headerColor = location.pathname === '/' ? { background: 'white'} : { background: 'blue' }\n    //console.log(\"HERE is is:::::::::::: \" + location.pathname)\n\n      if(this.state.user &&  this.usercheck()){\n        console.log(\"header image state: \" + this.state.image)\n        if(this.state.image === \"\" || this.state.image === undefined){\n\n        return(\n          <nav className=\"navbar navbar-expand\" style ={{background: black}}>\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n              <ul className=\"navbar-nav\">\n                <li className=\"nav-item active\">\n                  <Link to='/' onClick={() => this.changePage()} className=\"nav-link\" href=\"#\"> <img src={ require('../../images/book.png') } style ={{width: '30px'}}/> <span className=\"sr-only\">(current)</span></Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link to= '/search' onClick={() => this.changePage()} className=\"nav-link\" href=\"/search\">Search</Link>\n                </li>\n                <li className=\"nav-item\">\n                <Dropdown drop='left' style = {{float: 'right', position: 'absolute', right: \"30px\", color: \"white\"}}>\n                <Dropdown.Toggle style = {{color: \"black\", backgroundColor: \"black\", border:\"none\"}}>\n                  {this.avatargen()}\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                    <Dropdown.Item><Link style = {{color:\"black\"}} to= '/profile' className=\"nav-link\" href=\"/profile\">Profile</Link> </Dropdown.Item>\n                    <Dropdown.Divider />\n                    <Dropdown.Item><button className=\"btn btn-danger\" style = {{marginTop: \"0px\" }} onClick={this.loggedOutUser.bind(this)} history={this.props.history}>\n                     Sign Out\n                     </button></Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n                </li>\n                <li className=\"nav-item\">\n                  <Link to='/friendslist' onClick={() => this.changePage()} className=\"nav-link\" href=\"/friends\">Friends</Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link to='/library' onClick={() => this.changePage()} className=\"nav-link\" href=\"/library\">Library</Link>\n                </li>\n              </ul>\n              {/*}<button className = 'themebtn' onClick = {this.changeColor} style = {{float: 'right'}}> </button>*/}\n              {/*<Dropdown style = {{float: 'right', position: 'absolute', right: '90px', color: \"white\"}}>\n              <Dropdown.Toggle id=\"dropdown-basic\" style = {{color: \"white\"}}>\n              <IconContext.Provider value={{ color: \"white\"}}>\n                <div>\n                   <FaBell />\n                </div>\n                </IconContext.Provider>\n              </Dropdown.Toggle>\n  <Dropdown.Menu className = \"notifcation\">\n  <div class=\"dropdown-menu\">\n  <p class=\"dropdown-item\">Apples wants to be your friend!</p>\n  <p class=\"dropdown-item\">Oranges wants to be your friend!</p>\n</div>\n  </Dropdown.Menu>\n</Dropdown>*/}\n            </div>\n          </nav>\n        );\n\n      }else{\n        return(\n          <nav className=\"navbar navbar-expand\" style ={{background: 'black'}}>\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n              <ul className=\"navbar-nav\">\n                <li className=\"nav-item active\">\n                  <Link to='/' className=\"nav-link\" href=\"#\"> <img src={ require('../../images/book.png') } style ={{width: '30px'}}/> <span className=\"sr-only\">(current)</span></Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link to= '/search' className=\"nav-link\" href=\"/search\">Search</Link>\n                </li>\n                <li className=\"nav-item\">\n                <Dropdown drop='left' style = {{float: 'right', position: 'absolute', right: \"30px\", color: \"white\"}}>\n                <Dropdown.Toggle style = {{color: \"black\", backgroundColor: \"black\", border:\"none\"}}>\n                  <Avatar size=\"35\" src={this.state.image} round={true}/>\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                    <Dropdown.Item><Link style = {{color:\"black\"}} to= '/profile' className=\"nav-link\" href=\"/profile\">Profile</Link> </Dropdown.Item>\n                    <Dropdown.Divider />\n                    <Dropdown.Item><button className=\"btn btn-danger\" style = {{marginTop: \"0px\" }} onClick={this.loggedOutUser.bind(this)} history={this.props.history}>\n                     Sign Out\n                     </button></Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n                </li>\n                <li className=\"nav-item\">\n                  <Link to='/friendslist' className=\"nav-link\" href=\"/friends\">Friends</Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link to='/library' className=\"nav-link\" href=\"/library\">Library</Link>\n                </li>\n              </ul>\n            </div>\n          </nav>\n        );\n      }\n    }\n        return(\n          <nav className=\"navbar navbar-expand-lg\" style = {{background: 'black'}} /*style ={{background: this.state.color}}*/>\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n              <ul className=\"navbar-nav\">\n                <li className=\"nav-item active\">\n                  <Link to='/' className=\"nav-link\" href=\"#\"> <img src={ require('../../images/book.png') } style ={{width: '30px'}}/> <span className=\"sr-only\">(current)</span></Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link to='/login' className=\"nav-link\" href=\"/login\">Login</Link>\n                </li>\n              </ul>\n                {/*}<button className = 'themebtn' onClick = {this.changeColor} style = {{float: 'right'}}> </button>*/}\n            </div>\n          </nav>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}