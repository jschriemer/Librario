{"ast":null,"code":"import _classCallCheck from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Avatar from'react-avatar';import Card from'react-bootstrap/Card';import ListGroup from'react-bootstrap/ListGroup';import'./Profile.css';import*as login from'../Auth/Login.js';import firebase from'../../firebase.js';var db=firebase.firestore();var ProfileCard=/*#__PURE__*/function(_React$Component){_inherits(ProfileCard,_React$Component);function ProfileCard(){var _this;_classCallCheck(this,ProfileCard);_this=_possibleConstructorReturn(this,_getPrototypeOf(ProfileCard).call(this));_this.state={fullnamed:_this.getName2(),name:\"\",image:\"\"};return _this;}_createClass(ProfileCard,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;db.collection(\"Users\").doc(login.getUID()).collection(\"Photos\").get().then(function(querySnapshot){var data=querySnapshot.docs.map(function(doc){return doc.data();});_this2.setState({image:data[0].ava});});this.setState({fullnamed:this.getName2(),name:login.getUser()});}},{key:\"getName2\",value:function getName2(){var _this3=this;var db=firebase.firestore();var user=firebase.auth().currentUser;var name='';db.collection(\"Users\").get().then(function(querySnapshot){var data=querySnapshot.docs.map(function(doc){return doc.data();});console.log(data);if(user!==null){console.log(data+\" \"+user.displayName+\" \"+data[1].name);for(var i in data){if(user.displayName===data[i].name){name=data[i].fullname;_this3.setState({fullnamed:name,image:data[i].avatar});return name;}}}});return name;}},{key:\"render\",value:function render(){console.log(\"BBBB\"+this.state.image);if(this.state.fullnamed===\"\"){console.log(\"checking\");var nae=this.getName2();}if(this.state.image===\"\"||this.state.image===undefined){return React.createElement(Card,{className:\"cardo\",style:{width:'30rem',height:'30rem'}},React.createElement(Avatar,{className:\"ava\",name:login.getUser(),round:true}),React.createElement(Card.Body,null,React.createElement(Card.Title,{style:{fontWeight:'bold',marginTop:\"15px\"}},login.getUser()),React.createElement(Card.Subtitle,{style:{marginTop:\"15px\"}},this.state.fullnamed),React.createElement(\"br\",null),React.createElement(ListGroup,{variant:\"flush\"},React.createElement(ListGroup.Item,null,login.getEmail()),React.createElement(ListGroup.Item,null,login.getCreated())),React.createElement(\"br\",null)));}else{return React.createElement(Card,{className:\"cardo\",style:{width:'30rem',height:'30rem'}},React.createElement(Avatar,{className:\"ava\",src:this.state.image,round:true}),React.createElement(Card.Body,null,React.createElement(Card.Title,{style:{fontWeight:'bold',marginTop:\"15px\"}},login.getUser()),React.createElement(Card.Subtitle,{style:{marginTop:\"15px\"}},this.state.fullnamed),React.createElement(\"br\",null),React.createElement(ListGroup,{variant:\"flush\"},React.createElement(ListGroup.Item,null,login.getEmail()),React.createElement(ListGroup.Item,null,login.getCreated())),React.createElement(\"br\",null)));}}}]);return ProfileCard;}(React.Component);export{ProfileCard as default};","map":{"version":3,"sources":["/Users/john/Downloads/library2/lib/src/components/Profile/ProfileCard.js"],"names":["React","Avatar","Card","ListGroup","login","firebase","db","firestore","ProfileCard","state","fullnamed","getName2","name","image","collection","doc","getUID","get","then","querySnapshot","data","docs","map","setState","ava","getUser","user","auth","currentUser","console","log","displayName","i","fullname","avatar","nae","undefined","width","height","fontWeight","marginTop","getEmail","getCreated","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Avatar from 'react-avatar';\nimport Card from 'react-bootstrap/Card';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport './Profile.css';\nimport * as login from '../Auth/Login.js';\nimport firebase from '../../firebase.js';\n\nconst db = firebase.firestore();\n\n\nexport default class ProfileCard extends React.Component{\n  constructor() {\n    super();\n    this.state = {\n      fullnamed: this.getName2(),\n      name: \"\",\n      image: \"\",\n    };\n  }\n\ncomponentDidMount(){\n  db.collection(\"Users\")\n  .doc(login.getUID()).collection(\"Photos\")\n  .get()\n  .then(querySnapshot => {\n  var data = querySnapshot.docs.map(doc => doc.data());\n  this.setState({\n    image: data[0].ava\n  })\n });\n\n  this.setState({\n    fullnamed: this.getName2(),\n    name: login.getUser()\n  })\n}\n\n\n  getName2(){\n   const db = firebase.firestore();\n   var user = firebase.auth().currentUser;\n   var name = '';\n   db.collection(\"Users\")\n   .get()\n   .then(querySnapshot => {\n  const data = querySnapshot.docs.map(doc => doc.data());\n  console.log(data )\n  if(user !== null){\n    console.log(data + \" \" + user.displayName + \" \" + data[1].name)\n    for(var i in data){\n  if(user.displayName === data[i].name){\n    name = data[i].fullname;\n    this.setState({\n      fullnamed: name,\n      image: data[i].avatar\n    });\n    return name;\n  }\n }\n }\n  });\n  return name;\n }\n\n\n    render(){\n      console.log(\"BBBB\" + this.state.image)\n\n      if(this.state.fullnamed === \"\"){\n        console.log(\"checking\")\n        var nae = this.getName2();\n      }\n      if(this.state.image === \"\" || this.state.image === undefined){\n        return(\n             <Card className = \"cardo\" style={{ width: '30rem', height: '30rem'}}>\n                <Avatar className = \"ava\" name={login.getUser()} round={true}/>\n                    <Card.Body>\n                    <Card.Title style ={{fontWeight: 'bold' , marginTop: \"15px\"}}>{login.getUser()}</Card.Title>\n                    <Card.Subtitle style ={{marginTop: \"15px\"}}>{this.state.fullnamed}</Card.Subtitle>\n                    <br></br>\n                    <ListGroup variant=\"flush\">\n                    <ListGroup.Item>{login.getEmail()}</ListGroup.Item>\n                    <ListGroup.Item>{login.getCreated()}</ListGroup.Item>\n                    </ListGroup>\n                    <br></br>\n                    </Card.Body>\n            </Card>\n        )\n      }else{\n        return(\n             <Card className = \"cardo\" style={{ width: '30rem', height: '30rem'}}>\n                  <Avatar className = \"ava\" src={this.state.image} round={true}/>\n                    <Card.Body>\n                    <Card.Title style ={{fontWeight: 'bold' , marginTop: \"15px\"}}>{login.getUser()}</Card.Title>\n                    <Card.Subtitle style ={{marginTop: \"15px\"}}>{this.state.fullnamed}</Card.Subtitle>\n                    <br></br>\n                    <ListGroup variant=\"flush\">\n                    <ListGroup.Item>{login.getEmail()}</ListGroup.Item>\n                    <ListGroup.Item>{login.getCreated()}</ListGroup.Item>\n                    </ListGroup>\n                    <br></br>\n                    </Card.Body>\n            </Card>\n          );\n      }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}