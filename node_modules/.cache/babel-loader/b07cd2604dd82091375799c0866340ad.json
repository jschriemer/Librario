{"ast":null,"code":"import _defineProperty from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import firebase from'../../firebase.js';import{Link}from'react-router-dom';import'./Auth.css';var BASE_URL=\"https://www.googleapis.com/books/v1/volumes\";var db=firebase.firestore();var Register=/*#__PURE__*/function(_React$Component){_inherits(Register,_React$Component);function Register(props){var _this;_classCallCheck(this,Register);_this=_possibleConstructorReturn(this,_getPrototypeOf(Register).call(this,props));_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,email=_this$state.email,username=_this$state.username,password=_this$state.password,fullname=_this$state.fullname,uid=_this$state.uid;firebase.auth().createUserWithEmailAndPassword(email,password).then(function(){var user=firebase.auth().currentUser;user.updateProfile({displayName:username,providerId:fullname}).then(function(){_this.props.history.push('/Login');});var docRef=db.collection(\"Users\").doc(user.uid).set({name:username,fullname:fullname,email:email,uid:user.uid}).then(function(){console.log(\"Document successfully written!\");db.collection('Users').doc(user.uid).collection('Photos').doc('Avatar').set({ava:\"\"}).then(function(){console.log(\"Document successfully written!\");}).catch(function(error){console.error(\"Error writing document: \",error);});}).catch(function(error){console.error(\"Error writing document: \",error);});}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;alert(errorMessage);});};_this.state={username:'',email:'',password:'',fullname:'',uid:''};return _this;}_createClass(Register,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,username=_this$state2.username,password=_this$state2.password,fullname=_this$state2.fullname;return React.createElement(\"div\",{className:\"authcontainer2\"},React.createElement(\"h1\",{style:{color:\"white\"}},\" Create an Account \"),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"label\",{htmlFor:\"username\"}),React.createElement(\"input\",{className:\"inputBox\",type:\"text\",placeholder:\"Username\",name:\"username\",id:\"username\",value:username,onChange:this.handleChange}),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"label\",{htmlFor:\"fullname\"}),React.createElement(\"input\",{className:\"inputBox\",type:\"text\",placeholder:\"Full Name\",name:\"fullname\",id:\"fullname\",value:fullname,onChange:this.handleChange}),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"label\",{htmlFor:\"email\"}),React.createElement(\"input\",{className:\"inputBox\",type:\"email\",placeholder:\"Email\",name:\"email\",id:\"email\",value:email,onChange:this.handleChange}),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"label\",{htmlFor:\"password\"}),React.createElement(\"input\",{className:\"inputBox\",type:\"password\",placeholder:\"Password\",name:\"password\",id:\"password\",value:password,onChange:this.handleChange}),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"button\",{className:\"submit\",children:\"Lets go!\"}),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"p\",null,\"Have an account? \",React.createElement(Link,{className:\"login-button\",to:\"./login\"},\" Login here! \"))));}}]);return Register;}(React.Component);export{Register as default};export function getUser(){var user=firebase.auth().currentUser;if(user!==null){var name=user.displayName;return name;}else{return false;}}","map":{"version":3,"sources":["/Users/john/Downloads/library2/lib/src/components/Auth/Register.js"],"names":["React","firebase","Link","BASE_URL","db","firestore","Register","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","state","email","username","password","fullname","uid","auth","createUserWithEmailAndPassword","then","user","currentUser","updateProfile","displayName","providerId","history","push","docRef","collection","doc","set","console","log","ava","catch","error","errorCode","code","errorMessage","message","alert","color","Component","getUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport firebase from '../../firebase.js'\nimport { Link } from 'react-router-dom';\nimport './Auth.css';\n\n\nconst BASE_URL = `https://www.googleapis.com/books/v1/volumes`;\nconst db = firebase.firestore();\n\n\nexport default class Register extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username: '',\n            email: '',\n            password: '',\n            fullname: '',\n            uid: '',\n        }\n    }\n\n    handleChange = event => {\n\t\tthis.setState({[event.target.name]: event.target.value});\n\t}\n\n    //Submit email and password to firebase database\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n        const {email, username, password, fullname, uid} = this.state;\n        firebase\n          .auth()\n\t        .createUserWithEmailAndPassword(email, password)\n\t        .then(() => {\n\t            const user = firebase.auth().currentUser;\n\t            user\n\t              .updateProfile({displayName: username, providerId: fullname})\n\t\t            .then(() => {\n\t\t                this.props.history.push('/Login');\n\t\t            });\n\n                var docRef = db.\n                collection(\"Users\")\n                .doc(user.uid)\n                .set({\n                  name: username,\n                  fullname: fullname,\n                  email: email,\n                  uid: user.uid,\n                })\n                .then(function() {\n                  console.log(\"Document successfully written!\");\n                  db.collection('Users').doc(user.uid)\n                  .collection('Photos')\n                  .doc('Avatar')\n                  .set({\n                    ava: \"\"\n                  })\n                .then(function() {\n                  console.log(\"Document successfully written!\");\n                })\n                .catch(function(error) {\n                  console.error(\"Error writing document: \", error);\n                })\n                })\n                .catch(function(error) {\n                  console.error(\"Error writing document: \", error);\n                });\n            })\n            .catch(function(error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            alert(errorMessage);\n          })\n\t}\n\n\n    render(){\n        const {email,username, password, fullname} = this.state;\n        return(\n            <div className = 'authcontainer2'>\n                <h1 style = {{color: \"white\"}}> Create an Account </h1>\n                <br className = \"log\"></br>\n                <form onSubmit={this.handleSubmit}>\n                    <label htmlFor = 'username'></label>\n                        <input className = 'inputBox' type = 'text'  placeholder = 'Username'  name = 'username' id ='username' value = {username} onChange = {this.handleChange} />\n                        <br className = \"log\"></br>\n                        <label htmlFor = 'fullname'></label>\n                            <input className = 'inputBox' type = 'text'  placeholder = 'Full Name'  name = 'fullname' id ='fullname' value = {fullname} onChange = {this.handleChange} />\n                            <br className = \"log\"></br>\n                    <label htmlFor = 'email'></label>\n                        <input className = 'inputBox' type = 'email'  placeholder = 'Email'  name ='email' id = 'email' value = {email} onChange = {this.handleChange} />\n                        <br className = \"log\"></br>\n                    <label htmlFor = 'password'></label>\n                        <input className = 'inputBox' type = 'password' placeholder = 'Password' name = 'password' id = 'password' value = {password} onChange ={this.handleChange} />\n                        <br className = \"log\"></br>\n                    <button className = 'submit' children = 'Lets go!' />\n                    <br className = \"log\"></br>\n                    <p>Have an account? <Link className = 'login-button' to='./login'> Login here! </Link></p>\n                </form>\n                </div>\n        )\n    }\n}\n\nexport function getUser(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var name = user.displayName;\n    return name;\n  }else{\n  return false;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}