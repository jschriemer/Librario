{"ast":null,"code":"var _jsxFileName = \"/Users/john/Downloads/library2/lib/src/components/Auth/Register.js\";\nimport React from 'react';\nimport firebase from '../../firebase.js';\nimport { Link } from 'react-router-dom';\nimport './Auth.css';\nconst BASE_URL = `https://www.googleapis.com/books/v1/volumes`;\nconst db = firebase.firestore();\nexport default class Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        email,\n        username,\n        password,\n        fullname,\n        uid\n      } = this.state;\n      firebase.auth().createUserWithEmailAndPassword(email, password).then(() => {\n        const user = firebase.auth().currentUser;\n        user.updateProfile({\n          displayName: username,\n          providerId: fullname\n        }).then(() => {\n          this.props.history.push('/Login');\n        });\n        var docRef = db.collection(\"Users\").doc(user.uid).set({\n          name: username,\n          fullname: fullname,\n          email: email,\n          uid: user.uid\n        }).then(function () {\n          console.log(\"Document successfully written!\");\n          db.collection('Users').doc(user.uid).collection('Photos').doc('Avatar').set({\n            ava: \"\"\n          }).then(function () {\n            console.log(\"Document successfully written!\");\n          }).catch(function (error) {\n            console.error(\"Error writing document: \", error);\n          });\n        }).catch(function (error) {\n          console.error(\"Error writing document: \", error);\n        });\n      }).catch(function (error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        alert(errorMessage);\n      });\n    };\n\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      fullname: '',\n      uid: ''\n    };\n  }\n\n  render() {\n    const {\n      email,\n      username,\n      password,\n      fullname\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"authcontainer2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \" Create an Account \"), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"inputBox\",\n      type: \"text\",\n      placeholder: \"Username\",\n      name: \"username\",\n      id: \"username\",\n      value: username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"fullname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"inputBox\",\n      type: \"text\",\n      placeholder: \"Full Name\",\n      name: \"fullname\",\n      id: \"fullname\",\n      value: fullname,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"inputBox\",\n      type: \"email\",\n      placeholder: \"Email\",\n      name: \"email\",\n      id: \"email\",\n      value: email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"inputBox\",\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      id: \"password\",\n      value: password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"submit\",\n      children: \"Lets go!\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Have an account? \", React.createElement(Link, {\n      className: \"login-button\",\n      to: \"./login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \" Login here! \"))));\n  }\n\n}\nexport function getUser() {\n  var user = firebase.auth().currentUser;\n\n  if (user !== null) {\n    var name = user.displayName;\n    return name;\n  } else {\n    return false;\n  }\n}","map":{"version":3,"sources":["/Users/john/Downloads/library2/lib/src/components/Auth/Register.js"],"names":["React","firebase","Link","BASE_URL","db","firestore","Register","Component","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","email","username","password","fullname","uid","state","auth","createUserWithEmailAndPassword","then","user","currentUser","updateProfile","displayName","providerId","history","push","docRef","collection","doc","set","console","log","ava","catch","error","errorCode","code","errorMessage","message","alert","render","color","getUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport firebase from '../../firebase.js'\nimport { Link } from 'react-router-dom';\nimport './Auth.css';\n\n\nconst BASE_URL = `https://www.googleapis.com/books/v1/volumes`;\nconst db = firebase.firestore();\n\n\nexport default class Register extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username: '',\n            email: '',\n            password: '',\n            fullname: '',\n            uid: '',\n        }\n    }\n\n    handleChange = event => {\n\t\tthis.setState({[event.target.name]: event.target.value});\n\t}\n\n    //Submit email and password to firebase database\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n        const {email, username, password, fullname, uid} = this.state;\n        firebase\n          .auth()\n\t        .createUserWithEmailAndPassword(email, password)\n\t        .then(() => {\n\t            const user = firebase.auth().currentUser;\n\t            user\n\t              .updateProfile({displayName: username, providerId: fullname})\n\t\t            .then(() => {\n\t\t                this.props.history.push('/Login');\n\t\t            });\n\n                var docRef = db.\n                collection(\"Users\")\n                .doc(user.uid)\n                .set({\n                  name: username,\n                  fullname: fullname,\n                  email: email,\n                  uid: user.uid,\n                })\n                .then(function() {\n                  console.log(\"Document successfully written!\");\n                  db.collection('Users').doc(user.uid)\n                  .collection('Photos')\n                  .doc('Avatar')\n                  .set({\n                    ava: \"\"\n                  })\n                .then(function() {\n                  console.log(\"Document successfully written!\");\n                })\n                .catch(function(error) {\n                  console.error(\"Error writing document: \", error);\n                })\n                })\n                .catch(function(error) {\n                  console.error(\"Error writing document: \", error);\n                });\n            })\n            .catch(function(error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            alert(errorMessage);\n          })\n\t}\n\n\n    render(){\n        const {email,username, password, fullname} = this.state;\n        return(\n            <div className = 'authcontainer2'>\n                <h1 style = {{color: \"white\"}}> Create an Account </h1>\n                <br className = \"log\"></br>\n                <form onSubmit={this.handleSubmit}>\n                    <label htmlFor = 'username'></label>\n                        <input className = 'inputBox' type = 'text'  placeholder = 'Username'  name = 'username' id ='username' value = {username} onChange = {this.handleChange} />\n                        <br className = \"log\"></br>\n                        <label htmlFor = 'fullname'></label>\n                            <input className = 'inputBox' type = 'text'  placeholder = 'Full Name'  name = 'fullname' id ='fullname' value = {fullname} onChange = {this.handleChange} />\n                            <br className = \"log\"></br>\n                    <label htmlFor = 'email'></label>\n                        <input className = 'inputBox' type = 'email'  placeholder = 'Email'  name ='email' id = 'email' value = {email} onChange = {this.handleChange} />\n                        <br className = \"log\"></br>\n                    <label htmlFor = 'password'></label>\n                        <input className = 'inputBox' type = 'password' placeholder = 'Password' name = 'password' id = 'password' value = {password} onChange ={this.handleChange} />\n                        <br className = \"log\"></br>\n                    <button className = 'submit' children = 'Lets go!' />\n                    <br className = \"log\"></br>\n                    <p>Have an account? <Link className = 'login-button' to='./login'> Login here! </Link></p>\n                </form>\n                </div>\n        )\n    }\n}\n\nexport function getUser(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var name = user.displayName;\n    return name;\n  }else{\n  return false;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}