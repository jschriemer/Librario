{"ast":null,"code":"import _defineProperty from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/john/Downloads/library2/lib/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{useState}from'react';import firebase from'../../firebase.js';import{Link}from'react-router-dom';import'./Auth.css';var errorflag=0;var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,email=_this$state.email,password=_this$state.password;firebase.auth().signInWithEmailAndPassword(email,password).then(function(user){alert(\"Welcome back \"+getUser()+\"!\");var content=\"Welcome back \"+getUser()+\"!\";_this.props.history.push('/');window.location.reload();}).catch(function(error){var errorMessage=error.message;alert(errorMessage);});};_this.state={username:getUser(),email:'',password:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"authcontainer\"},React.createElement(\"h1\",{style:{color:\"white\"}},\" Log In \"),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"label\",{htmlFor:\"email\"}),React.createElement(\"input\",{className:\"inputBox\",placeholder:\"Email\",type:\"email\",name:\"email\",id:\"email\",value:email,onChange:this.handleChange}),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"label\",{htmlFor:\"password\"}),React.createElement(\"input\",{className:\"inputBox\",placeholder:\"Password\",type:\"password\",name:\"password\",id:\"password\",value:password,onChange:this.handleChange}),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"button\",{className:\"submit\",children:\"Lets go!\"}),React.createElement(\"br\",{className:\"log\"}),React.createElement(\"p\",{style:{color:\"white\",fontSize:\"18px\"}},\"Don't have an account? \",React.createElement(Link,{style:{color:\"#B2E4FF\"},className:\"login-button\",to:\"./signup\"},\" Sign Up Here!\")))));}}]);return Login;}(React.Component);export{Login as default};export function getUser(){var user=firebase.auth().currentUser;if(user!==null){var name=user.displayName;return name;}else{return null;}}export function getEmail(){var user=firebase.auth().currentUser;if(user!==null){var email=user.email;return email;}else{return'example@example.ca';}}export function getCreated(){var user=firebase.auth().currentUser;if(user!==null){var date=\"User since \"+user.metadata.creationTime.slice(4,16);return date;}else{return'today';}}export function getStatus(){var user=firebase.auth().currentUser;if(user!==null){var status=\"I love books!\";return status;}else{return'Example Status';}}export function getUID(){var user=firebase.auth().currentUser;if(user!==null){return user.uid;}else{return\".\";}}export function getName(){var db=firebase.firestore();var user=firebase.auth().currentUser;var name='';db.collection(\"Users\").get().then(function(querySnapshot){var data=querySnapshot.docs.map(function(doc){return doc.data();});if(user!==null){for(var i in data){if(user.displayName===data[i].name){name=data[i].fullname;return name;}}}});return name;}","map":{"version":3,"sources":["/Users/john/Downloads/library2/lib/src/components/Auth/Login.js"],"names":["React","useState","firebase","Link","errorflag","Login","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","state","email","password","auth","signInWithEmailAndPassword","then","user","alert","getUser","content","history","push","window","location","reload","catch","error","errorMessage","message","username","color","fontSize","Component","currentUser","displayName","getEmail","getCreated","date","metadata","creationTime","slice","getStatus","status","getUID","uid","getName","db","firestore","collection","get","querySnapshot","data","docs","map","doc","i","fullname"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport firebase from '../../firebase.js'\nimport { Link } from 'react-router-dom';\nimport './Auth.css';\n\nvar errorflag = 0;\n\nexport default class Login extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username: getUser(),\n            email: '',\n            password: ''\n        }\n    }\n\n    handleChange = event => {\n\t\tthis.setState({[event.target.name]: event.target.value});\n\t}\n\n    //Submit email and password to firebase database\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n    const {email, password} = this.state;\n\n    firebase\n        .auth()\n        .signInWithEmailAndPassword(email, password)\n        .then(user => {\n          alert(\"Welcome back \" + getUser() + \"!\");\n          const content = \"Welcome back \" + getUser() + \"!\"\n          this.props.history.push('/');\n          window.location.reload();\n        })\n        .catch(function(error) {\n        var errorMessage = error.message;\n        alert(errorMessage);\n      })\n    }\n\n    render(){\n        const {email, password} = this.state;\n        return(\n          <div>\n            <div className = 'authcontainer'>\n                <h1 style = {{color: \"white\"}}> Log In </h1>\n                <br className = \"log\"></br>\n                <form onSubmit={this.handleSubmit}>\n                    <label htmlFor = 'email'></label>\n                        <input className = 'inputBox' placeholder = 'Email' type = 'email' name ='email' id = 'email' value = {email} onChange = {this.handleChange} />\n                        <br className = \"log\"></br>\n                    <label htmlFor = 'password'></label>\n                        <input className = 'inputBox' placeholder = 'Password' type = 'password' name = 'password' id = 'password' value = {password} onChange ={this.handleChange} />\n                        <br className = \"log\"></br>\n                    <button className = 'submit' children = 'Lets go!' />\n                    <br className = \"log\"></br>\n                    <p style = {{color: \"white\", fontSize: \"18px\"}} >Don't have an account? <Link style = {{color: \"#B2E4FF\"}} className = 'login-button' to='./signup'> Sign Up Here!</Link></p>\n                </form>\n                </div>\n              </div>\n        )\n    }\n}\n\nexport function getUser(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var name = user.displayName;\n    return name;\n  }else{\n    return null;\n  }\n}\n\nexport function getEmail(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var email = user.email;\n    return email;\n  }else{\n    return 'example@example.ca';\n  }\n}\n\nexport function getCreated(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var date = \"User since \" + user.metadata.creationTime.slice(4,16);\n    return date;\n  }else{\n    return 'today';\n  }\n}\n\nexport function getStatus(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var status = \"I love books!\";\n    return status;\n  }else{\n    return 'Example Status';\n  }\n}\n\nexport function getUID(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    return user.uid;\n  }else{\n    return \".\";\n  }\n}\n\n\nexport function getName(){\n const db = firebase.firestore();\n var user = firebase.auth().currentUser;\n var name = '';\n db.collection(\"Users\")\n  .get()\n  .then(querySnapshot => {\n    const data = querySnapshot.docs.map(doc => doc.data());\n    if(user !== null){\n      for(var i in data){\n        if(user.displayName === data[i].name){\n          name = data[i].fullname;\n          return name;\n        }\n      }\n    }\n  });\n  return name;\n}\n"]},"metadata":{},"sourceType":"module"}