{"ast":null,"code":"var _jsxFileName = \"/Users/john/Downloads/library2/lib/src/components/Auth/Login.js\";\nimport React, { useState } from 'react';\nimport firebase from '../../firebase.js';\nimport { Link } from 'react-router-dom';\nimport './Auth.css';\nvar errorflag = 0;\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        email,\n        password\n      } = this.state;\n      firebase.auth().signInWithEmailAndPassword(email, password).then(user => {\n        alert(\"Welcome back \" + getUser() + \"!\");\n        const content = \"Welcome back \" + getUser() + \"!\";\n        this.props.history.push('/');\n        window.location.reload();\n      }).catch(function (error) {\n        var errorMessage = error.message;\n        alert(errorMessage);\n      });\n    };\n\n    this.state = {\n      username: getUser(),\n      email: '',\n      password: ''\n    };\n  }\n\n  render() {\n    const {\n      email,\n      password\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"authcontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \" Log In \"), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"inputBox\",\n      placeholder: \"Email\",\n      type: \"email\",\n      name: \"email\",\n      id: \"email\",\n      value: email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"inputBox\",\n      placeholder: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      value: password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"submit\",\n      children: \"Lets go!\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      className: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      style: {\n        color: \"white\",\n        fontSize: \"18px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Don't have an account? \", React.createElement(Link, {\n      style: {\n        color: \"#B2E4FF\"\n      },\n      className: \"login-button\",\n      to: \"./signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \" Sign Up Here!\")))));\n  }\n\n}\nexport function getUser() {\n  var user = firebase.auth().currentUser;\n\n  if (user !== null) {\n    var name = user.displayName;\n    return name;\n  } else {\n    return null;\n  }\n}\nexport function getEmail() {\n  var user = firebase.auth().currentUser;\n\n  if (user !== null) {\n    var email = user.email;\n    return email;\n  } else {\n    return 'example@example.ca';\n  }\n}\nexport function getCreated() {\n  var user = firebase.auth().currentUser;\n\n  if (user !== null) {\n    var date = \"User since \" + user.metadata.creationTime.slice(4, 16);\n    return date;\n  } else {\n    return 'today';\n  }\n}\nexport function getStatus() {\n  var user = firebase.auth().currentUser;\n\n  if (user !== null) {\n    var status = \"I love books!\";\n    return status;\n  } else {\n    return 'Example Status';\n  }\n}\nexport function getUID() {\n  var user = firebase.auth().currentUser;\n\n  if (user !== null) {\n    return user.uid;\n  } else {\n    return \".\";\n  }\n}\nexport function getName() {\n  const db = firebase.firestore();\n  var user = firebase.auth().currentUser;\n  var name = '';\n  db.collection(\"Users\").get().then(querySnapshot => {\n    const data = querySnapshot.docs.map(doc => doc.data());\n\n    if (user !== null) {\n      for (var i in data) {\n        if (user.displayName === data[i].name) {\n          name = data[i].fullname;\n          return name;\n        }\n      }\n    }\n  });\n  return name;\n}","map":{"version":3,"sources":["/Users/john/Downloads/library2/lib/src/components/Auth/Login.js"],"names":["React","useState","firebase","Link","errorflag","Login","Component","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","email","password","state","auth","signInWithEmailAndPassword","then","user","alert","getUser","content","history","push","window","location","reload","catch","error","errorMessage","message","username","render","color","fontSize","currentUser","displayName","getEmail","getCreated","date","metadata","creationTime","slice","getStatus","status","getUID","uid","getName","db","firestore","collection","get","querySnapshot","data","docs","map","doc","i","fullname"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport firebase from '../../firebase.js'\nimport { Link } from 'react-router-dom';\nimport './Auth.css';\n\nvar errorflag = 0;\n\nexport default class Login extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username: getUser(),\n            email: '',\n            password: ''\n        }\n    }\n\n    handleChange = event => {\n\t\tthis.setState({[event.target.name]: event.target.value});\n\t}\n\n    //Submit email and password to firebase database\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n    const {email, password} = this.state;\n\n    firebase\n        .auth()\n        .signInWithEmailAndPassword(email, password)\n        .then(user => {\n          alert(\"Welcome back \" + getUser() + \"!\");\n          const content = \"Welcome back \" + getUser() + \"!\"\n          this.props.history.push('/');\n          window.location.reload();\n        })\n        .catch(function(error) {\n        var errorMessage = error.message;\n        alert(errorMessage);\n      })\n    }\n\n    render(){\n        const {email, password} = this.state;\n        return(\n          <div>\n            <div className = 'authcontainer'>\n                <h1 style = {{color: \"white\"}}> Log In </h1>\n                <br className = \"log\"></br>\n                <form onSubmit={this.handleSubmit}>\n                    <label htmlFor = 'email'></label>\n                        <input className = 'inputBox' placeholder = 'Email' type = 'email' name ='email' id = 'email' value = {email} onChange = {this.handleChange} />\n                        <br className = \"log\"></br>\n                    <label htmlFor = 'password'></label>\n                        <input className = 'inputBox' placeholder = 'Password' type = 'password' name = 'password' id = 'password' value = {password} onChange ={this.handleChange} />\n                        <br className = \"log\"></br>\n                    <button className = 'submit' children = 'Lets go!' />\n                    <br className = \"log\"></br>\n                    <p style = {{color: \"white\", fontSize: \"18px\"}} >Don't have an account? <Link style = {{color: \"#B2E4FF\"}} className = 'login-button' to='./signup'> Sign Up Here!</Link></p>\n                </form>\n                </div>\n              </div>\n        )\n    }\n}\n\nexport function getUser(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var name = user.displayName;\n    return name;\n  }else{\n    return null;\n  }\n}\n\nexport function getEmail(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var email = user.email;\n    return email;\n  }else{\n    return 'example@example.ca';\n  }\n}\n\nexport function getCreated(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var date = \"User since \" + user.metadata.creationTime.slice(4,16);\n    return date;\n  }else{\n    return 'today';\n  }\n}\n\nexport function getStatus(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    var status = \"I love books!\";\n    return status;\n  }else{\n    return 'Example Status';\n  }\n}\n\nexport function getUID(){\n  var user = firebase.auth().currentUser;\n  if(user !== null){\n    return user.uid;\n  }else{\n    return \".\";\n  }\n}\n\n\nexport function getName(){\n const db = firebase.firestore();\n var user = firebase.auth().currentUser;\n var name = '';\n db.collection(\"Users\")\n  .get()\n  .then(querySnapshot => {\n    const data = querySnapshot.docs.map(doc => doc.data());\n    if(user !== null){\n      for(var i in data){\n        if(user.displayName === data[i].name){\n          name = data[i].fullname;\n          return name;\n        }\n      }\n    }\n  });\n  return name;\n}\n"]},"metadata":{},"sourceType":"module"}